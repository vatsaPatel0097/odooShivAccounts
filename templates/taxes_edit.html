{% extends 'base.html' %}
{% block content %}
<div class="container py-4" style="max-width:700px;">
  <h4>Edit Tax</h4>

  {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  <form method="post">{% csrf_token %}
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input name="name" class="form-control" required value="{{ tax.name }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Computation</label>
      <select name="computation" class="form-control">
        <option value="percent" {% if tax.computation == 'percent' %}selected{% endif %}>Percentage</option>
        <option value="fixed" {% if tax.computation == 'fixed' %}selected{% endif %}>Fixed Value</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Apply On</label>
      <select name="apply_on" class="form-control">
        <option value="both" {% if tax.apply_on == 'both' %}selected{% endif %}>Both</option>
        <option value="sales" {% if tax.apply_on == 'sales' %}selected{% endif %}>Sales</option>
        <option value="purchase" {% if tax.apply_on == 'purchase' %}selected{% endif %}>Purchase</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Value</label>
      <input name="value" class="form-control" required value="{{ tax.value }}" />
    </div>

    <div class="form-check mb-3">
      <input type="checkbox" name="active" id="active" class="form-check-input" {% if tax.active %}checked{% endif %}>
      <label for="active" class="form-check-label">Active</label>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit">Save</button>
      <a class="btn btn-secondary" href="{% url 'taxes_list' %}">Back</a>
    </div>
  </form>
</div>
{% endblock %}
